<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… ØªØªØ¨Ø¹ GPS</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { margin: 0; padding: 20px; background: #1a2980; color: white; font-family: Arial; }
        #map { height: 500px; border-radius: 10px; margin: 20px 0; }
        .data-card { background: white; color: black; padding: 15px; border-radius: 10px; margin: 10px 0; }
        .btn { background: #26d0ce; color: white; border: none; padding: 10px 20px; border-radius: 5px; margin: 5px; }
    </style>
</head>
<body>
    <h1><i class="fas fa-satellite"></i> Ù†Ø¸Ø§Ù… ØªØªØ¨Ø¹ GPS</h1>
    
    <div class="data-card">
        <h3>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­ÙŠØ©:</h3>
        <p>ğŸ“ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª: <span id="coords">--,--</span></p>
        <p>ğŸš€ Ø§Ù„Ø³Ø±Ø¹Ø©: <span id="speed">0</span> ÙƒÙ…/Ø³</p>
        <p>ğŸ›°ï¸ Ø§Ù„Ø£Ù‚Ù…Ø§Ø±: <span id="sat">0</span></p>
        <p>â±ï¸ Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: <span id="time">--:--:--</span></p>
    </div>
    
    <div id="map">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø±ÙŠØ·Ø©...</div>
    
    <div>
        <button class="btn" onclick="centerMap()"><i class="fas fa-crosshairs"></i> Ù…Ø±ÙƒØ²</button>
        <button class="btn" onclick="startTracking()"><i class="fas fa-play"></i> ØªØªØ¨Ø¹</button>
        <button class="btn" onclick="clearPath()"><i class="fas fa-trash"></i> Ù…Ø³Ø­</button>
    </div>
    
    <script>
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø®Ø±ÙŠØ·Ø©
        var map = L.map('map').setView([33.31, 44.42], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
        var marker = L.marker([33.31, 44.42]).addTo(map);
        var path = L.polyline([], {color: 'red'}).addTo(map);
        
        // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
        function updateData() {
            var testData = {
                lat: 33.309772 + (Math.random() * 0.01 - 0.005),
                lng: 44.421445 + (Math.random() * 0.01 - 0.005),
                speed: (Math.random() * 100).toFixed(1),
                sat: Math.floor(Math.random() * 12) + 4
            };
            
            document.getElementById('coords').textContent = 
                testData.lat.toFixed(6) + ', ' + testData.lng.toFixed(6);
            document.getElementById('speed').textContent = testData.speed;
            document.getElementById('sat').textContent = testData.sat;
            document.getElementById('time').textContent = new Date().toLocaleTimeString();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ø±ÙŠØ·Ø©
            var newPos = [testData.lat, testData.lng];
            marker.setLatLng(newPos);
            map.setView(newPos, 16);
        }
        
        // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ 3 Ø«ÙˆØ§Ù†
        setInterval(updateData, 3000);
        updateData();
        
        function centerMap() { map.setView(marker.getLatLng(), 16); }
        function startTracking() { alert("ÙˆØ¶Ø¹ Ø§Ù„ØªØªØ¨Ø¹ Ù…ÙØ¹Ù„"); }
        function clearPath() { path.setLatLngs([]); alert("ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù…Ø³Ø§Ø±"); }
    </script>
</body>
</html>
